<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¸ì¦ì„œ ë§Œë£Œ ì„ë°• ì•Œë¦¼</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 700px;
            margin: 0 auto;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }
        .header h1 {
            margin: 0;
            font-size: 24px;
        }
        .content {
            padding: 30px;
        }
        .alert-box {
            background-color: #fff3cd;
            border: 2px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
        }
        .alert-title {
            font-size: 18px;
            font-weight: bold;
            color: #856404;
            margin-bottom: 10px;
        }
        .certificate-list {
            margin: 20px 0;
        }
        .certificate-item {
            background-color: #f8f9fa;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .certificate-item.urgent {
            border-left-color: #dc3545;
            background-color: #f8d7da;
        }
        .certificate-domain {
            font-size: 16px;
            font-weight: bold;
            color: #212529;
            margin-bottom: 8px;
        }
        .certificate-details {
            font-size: 14px;
            color: #495057;
        }
        .days-left {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 10px;
        }
        .days-left.urgent {
            background-color: #dc3545;
            color: white;
        }
        .days-left.warning {
            background-color: #ffc107;
            color: #212529;
        }
        .summary {
            background-color: #e7f3ff;
            padding: 15px;
            border-radius: 4px;
            margin: 20px 0;
        }
        .footer {
            background-color: #f8f9fa;
            padding: 20px;
            text-align: center;
            font-size: 12px;
            color: #6c757d;
        }
        .icon {
            font-size: 48px;
            margin-bottom: 10px;
        }
        .action-button {
            display: inline-block;
            padding: 14px 28px;
            background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            color: white;
            text-decoration: none;
            border-radius: 6px;
            margin: 20px 0;
            font-weight: bold;
            transition: transform 0.2s;
        }
        .action-button:hover {
            transform: translateY(-2px);
        }
        .button-container {
            text-align: center;
            margin: 30px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="icon">âš ï¸</div>
            <h1>ì¸ì¦ì„œ ë§Œë£Œ ì„ë°• ì•Œë¦¼</h1>
        </div>
        
        <div class="content">
            <p>ì•ˆë…•í•˜ì„¸ìš”,</p>
            
            <div class="alert-box">
                <div class="alert-title">ğŸ”” 7ì¼ ì´ë‚´ ë§Œë£Œë˜ëŠ” ì¸ì¦ì„œê°€ ìˆìŠµë‹ˆë‹¤</div>
                <p style="margin: 5px 0;">
                    ì´ <strong th:text="${count}">0</strong>ê°œì˜ ì¸ì¦ì„œê°€ ë§Œë£Œ ì˜ˆì •ì…ë‹ˆë‹¤.<br>
                    ë§Œë£Œ ì „ì— ê°±ì‹ í•˜ì—¬ ì„œë¹„ìŠ¤ ì¤‘ë‹¨ì„ ë°©ì§€í•˜ì„¸ìš”.
                </p>
            </div>
            
            <div class="summary">
                <strong>ğŸ“Š ìš”ì•½ ì •ë³´</strong><br>
                í™•ì¸ ì‹œê°: <span th:text="${#temporals.format(checkDate, 'yyyy-MM-dd HH:mm:ss')}">2024-01-01 09:00:00</span><br>
                ë§Œë£Œ ì˜ˆì • ì¸ì¦ì„œ: <span th:text="${count}">0</span>ê±´
            </div>
            
            <div class="certificate-list">
                <h3 style="color: #495057; margin-bottom: 15px;">ğŸ“‹ ë§Œë£Œ ì˜ˆì • ì¸ì¦ì„œ ëª©ë¡</h3>
                
                <div th:each="cert, iterStat : ${certificates}" 
                     th:class="${cert.alertDaysBeforeExpiry <= 3} ? 'certificate-item urgent' : 'certificate-item'">
                    <div class="certificate-domain">
                        <span th:text="${iterStat.count} + '. ' + ${cert.domain}">1. example.com</span>
                        <span th:class="${cert.alertDaysBeforeExpiry <= 3} ? 'days-left urgent' : 'days-left warning'"
                              th:text="${cert.alertDaysBeforeExpiry} + 'ì¼ ë‚¨ìŒ'">7ì¼ ë‚¨ìŒ</span>
                    </div>
                    <div class="certificate-details">
                        â° ë§Œë£Œì¼: <span th:text="${#temporals.format(cert.expiresAt, 'yyyy-MM-dd HH:mm:ss')}">2024-01-08 12:00:00</span><br>
                        ğŸ“Š ìƒíƒœ: <span th:text="${cert.status}">ACTIVE</span><br>
                        <span th:if="${cert.admin}">
                            ğŸ‘¤ ê´€ë¦¬ì: <span th:text="${cert.admin}">Admin</span>
                        </span>
                    </div>
                </div>
            </div>
            
            <div style="text-align: center; margin: 30px 0;">
                <p style="color: #495057; margin-bottom: 15px;">
                    <strong>ğŸ’¡ ì¡°ì¹˜ í•„ìš”</strong><br>
                    ì¸ì¦ì„œ ê´€ë¦¬ í˜ì´ì§€ì—ì„œ ê°±ì‹ í•˜ê±°ë‚˜ AI ì±—ë´‡ì—ê²Œ ê°±ì‹ ì„ ìš”ì²­í•˜ì„¸ìš”.
                </p>
            </div>
            
            <div class="button-container">
                <a href="https://2025-hanwha-ai-hackathon.github.io/auto-cert-frontend/" class="action-button">
                    ğŸ” ì¸ì¦ì„œ ê´€ë¦¬ í˜ì´ì§€ë¡œ ì´ë™
                </a>
            </div>
            
            <div style="background-color: #f8f9fa; padding: 15px; border-radius: 4px; margin-top: 20px;">
                <strong>ğŸ“Œ ì°¸ê³ ì‚¬í•­</strong>
                <ul style="margin: 10px 0; padding-left: 20px; font-size: 14px;">
                    <li>Let's Encrypt ì¸ì¦ì„œëŠ” ë°œê¸‰ì¼ë¡œë¶€í„° 90ì¼ê°„ ìœ íš¨í•©ë‹ˆë‹¤.</li>
                    <li>ë§Œë£Œ 7ì¼ ì „ë¶€í„° ë§¤ì¼ ì•Œë¦¼ì´ ë°œì†¡ë©ë‹ˆë‹¤.</li>
                    <li>ìë™ ê°±ì‹  ì„¤ì •ì„ í™œì„±í™”í•˜ë©´ ìˆ˜ë™ ì‘ì—… ì—†ì´ ê°±ì‹ ë©ë‹ˆë‹¤.</li>
                    <li>ë§Œë£Œëœ ì¸ì¦ì„œëŠ” ì›¹ì‚¬ì´íŠ¸ ì ‘ê·¼ ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
                </ul>
            </div>
        </div>
        
        <div class="footer">
            <p>ì´ ë©”ì¼ì€ AutoCert ì‹œìŠ¤í…œì—ì„œ ë§¤ì¼ ì˜¤ì „ 9ì‹œì— ìë™ìœ¼ë¡œ ë°œì†¡ë©ë‹ˆë‹¤.</p>
            <p>ë³¸ ë©”ì¼ì— íšŒì‹ í•˜ì§€ ë§ˆì‹­ì‹œì˜¤.</p>
        </div>
    </div>
</body>
</html>
